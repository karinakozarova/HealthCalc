<!DOCTYPE html>
<html>
   <head>
      
      <title> HealthCalc </title>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" type="text/css" href="style.css">
      
   </head>
   
   <body>
      
      <a href = "index.html">
         <h1 style = "padding:17px">
            <center> HealthCalc </center>
         </h1>
      </a>
      
      <p> I am: </p>
      <div class="sex">
         <label>
         <input type="radio" name="sex" id="sex_female" value="female">
         Female
         </label>
         <label>
         <input type="radio" name="sex" id="sex_male" value="male">
         Male
         </label>
      </div>
      
      
      <p id="text-box"> Age: </p>
      <input type="num" id="age"> </input> <br>
      
      
      <p id="text-box"> Height: </p>
      <input type="num" id="height"> </input>
      
      
      <p id="text-box"> Weight: </p>
      <input type="num" id="weight"> </input>
      <br> <br>
      
      
      <p> I train (per week): </p>
      <div class="active-lvl">
         <label>
         <input type="radio" name="activity" id="rarely" value="female">
         1-3 times
         </label>
         <label>
         <input type="radio" name="activity" id="often" value="male">
         3-5 times 
         </label> <br>
         <label>
         <input type="radio" name="activity" id="very-often" value="female">
         6-7 times 
         </label>
         <label>
         <input type="radio" name="activity" id="everyday" value="female">
         more than 7 
         </label>
      </div>
      
      
      <br> <br> <button id="button_indent" onclick="Calculate()" type="button" class="btn btn-success"> Calculate </button>
      
      
      
      <script>
         function Calculate()
         {
         	// variables assignment
         	var sex = 1; // sex = 1 is male, 2 is female
         	var height = document.getElementById("height").value;
         	var weight = document.getElementById("weight").value;
         	var age = document.getElementById("age").value;
         
         
         	// BMI calculation
         	var BMI = weight / (height * height) * 10000;
         	BMI = Math.round(BMI);
         
         	// BMR calculation
         	//This is based on the Mifflin - St Jeor equation. 
         	var BMR;
         	if (sex == 1) BMR = 10 * weight + 6.25 * height - 5 * age + 5 //man
         	else BMR = 10 * weight + 6.25 * height - 5 * age - 161 //woman
         
         	// Needeed calorie intake 
         
         	// activity level calculations
         	var activity_lvl;
         	if (document.getElementById("rarely").checked == true) activity_lvl = 3;
         	if (document.getElementById("often").checked == true) activity_lvl = 5;
         	if (document.getElementById("very-often").checked == true) activity_lvl = 7;
         	if (document.getElementById("everyday").checked == true) activity_lvl = 8;
         
         	var calorie_intake;
         	//If you are not very active basal metabolic rate times 1.2. 	
         	if (activity_lvl == 3) calorie_intake = BMR * 1.2;
         	//Somewhat active people should multiply by 1.375. 
         	if (activity_lvl == 5) calorie_intake = BMR * 1.375;
         	//Some exercise during the week, the number is 1.55. 
         	if (activity_lvl == 7) calorie_intake = BMR * 1.55;
         	//If you do a lot of sports, you multiply by 1.95. 
         	if (activity_lvl == 8) calorie_intake = BMR * 1.95;
         
         	// alert(calorie_intake);  //use only when debugging
         	
         	//checking if user input is legit
         	if (document.getElementById("sex_female").checked == true) sex = 2;
         	if (document.getElementById("sex_male").checked == true) sex = 1;
         	if (document.getElementById("age").value > 0 && document.getElementById("age").value <= 120)
         	{
         
         		if (height > 55 && height < 290)
         		{
         			if (weight > 15 && weight < 290)
         			{
         				//if here -> everything from the input is legit
         				// For debugging only: 
         				//alert("Age:  " + document.getElementById("age").value + " Sex:  " + sex + "BMI: " + BMI);
         				alert("Your BMI is " + BMI + ".\n" + "Your BMR is: " + BMR + ".\nYour calorie intake should be: " + calorie_intake);
         			}
         			else alert("Wrong weight input, please try again");
         			
         		}
         		else alert("Wrong height input, please try again");
         		
         	}
         	else alert("Invalid age input, please try again");
         	
         }
         
      </script>
      
   </body>
   
</html>
